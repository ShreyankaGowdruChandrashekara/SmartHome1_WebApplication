<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>SMART HOME APPLIANCES</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
<!-- Links for Jquery and bootstrap css -->
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
 <!-- ///////////////////////////////////////////////////////-->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&display=swap">
 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript"></script>

<script type="text/javascript">
	google.charts.load('current', {'packages':['table']});
	google.charts.setOnLoadCallback(drawTable);
  
	function drawTable() {
  
  
	  var data = new google.visualization.DataTable();
	  data.addColumn('string', 'Product Name');
	  data.addColumn('number', 'Price');
	  data.addColumn('number', 'Quantity');
  
	  var res = $.ajax({
			 url: "FetchProducts",
			 async: false,
			 dataType: "json"
	  }).responseText;
  
	  var resultJson1=JSON.parse(res);
	  console.log("Json result is " + resultJson1);
  
	  for(var i=0;i<resultJson1.length;i++){
		  var products = [];
		  products.push(resultJson1[i]["name"],resultJson1[i]["price"],resultJson1[i]["quantity"]);
		  data.addRow(products);
		 }
	  var table = new google.visualization.Table(document.getElementById('table_allProds'));
	  var formatter = new google.visualization.NumberFormat(
	  {prefix: '$', negativeColor: 'red', negativeParens: true});
	  formatter.format(data,1);
	  //var formatter = new google.visualization.PatternFormat('<a href="mailto:{1}">{0}</a>');
	  table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
	}
  </script>
  <script type="text/javascript">
	  google.charts.load('current', {'packages':['corechart']});
	  google.charts.setOnLoadCallback(drawProductChart);
  
	function drawProductChart() {
  
		var table = new google.visualization.DataTable();
		table.addColumn('string','Product Name');
		table.addColumn('number','Total Inventory');
		var result = $.ajax({
			   url: "FetchProducts",
			   async: false,
			   dataType: "json"
		}).responseText;
  
		var resultJson=JSON.parse(result);
  
		for(var i=0;i<resultJson.length;i++){
		   table.addRow([resultJson[i]["name"],resultJson[i]["quantity"]]);
		 }
  
		var options = {
			width: 900,
			height: 900,
			'is3D':true,
			title: "All Products Inventory Plot",
			bar: {groupWidth: "22%"},
			legend: { position: "none" }
		};
  
		var an = new google.visualization.BarChart(document.getElementById('inventory_barchart'));
  
		an.draw(table,options);
	  }
	</script>
  <script type="text/javascript">
	  google.charts.load('current', {'packages':['table']});
	  google.charts.setOnLoadCallback(drawSaleTable);
	
	  function drawSaleTable() {
	
	
		var data = new google.visualization.DataTable();
		data.addColumn('string', 'Product Name');
		data.addColumn('number', 'Price');
		data.addColumn('number', 'Quantity');
		data.addColumn('number', 'Product discount');
	
		var res = $.ajax({
			   url: "FetchProducts",
			   async: false,
			   dataType: "json"
		}).responseText;
	
		var resultJson1=JSON.parse(res);
		console.log("Json result is " + resultJson1);
	
		for(var i=0;i<resultJson1.length;i++){
			
			if(resultJson1[i]["isSale"] == true)
			{
			var products = [];
			data.addRow([resultJson1[i]["name"],resultJson1[i]["price"],resultJson1[i]["quantity"],resultJson1[i]["discounAmt"]]);
			}
			  //test.add(resultJson1[i]["name"],resultJson1[i]["price"],resultJson1[i]["quantity"]);
		   }
		var table = new google.visualization.Table(document.getElementById('table_SaleProds'));
		var formatter = new google.visualization.NumberFormat(
		  {prefix: '$', negativeColor: 'red', negativeParens: true});
		  formatter.format(data,1);
		  var formatter1 = new google.visualization.NumberFormat({suffix : '%'});
		  formatter1.format(data,3);
		  var formatter2 = new google.visualization.ArrowFormat();
		  formatter2.format(data, 3);
		table.draw(data, {allowHtml: true,showRowNumber: true, width: '100%', height: '100%'});
	  }
	</script>
  <script type="text/javascript">
	  google.charts.load('current', {'packages':['table']});
	  google.charts.setOnLoadCallback(drawRebateTable);
	
	  function drawRebateTable() {
	
	
		var data = new google.visualization.DataTable();
		data.addColumn('string', 'Product Name');
		data.addColumn('number', 'Price');
		data.addColumn('number', 'Quantity');
	
		var res = $.ajax({
			   url: "FetchProducts",
			   async: false,
			   dataType: "json"
		}).responseText;
		
		var resultJson1=JSON.parse(res);
	
		for(var i=0;i<resultJson1.length;i++){
			
			if(resultJson1[i]["isRebate"] == true)
			{
			var products = [];
			data.addRow([resultJson1[i]["name"],resultJson1[i]["price"],resultJson1[i]["quantity"]]);
			}
			  //test.add(resultJson1[i]["name"],resultJson1[i]["price"],resultJson1[i]["quantity"]);
		   }
		var table = new google.visualization.Table(document.getElementById('table_RebateProds'));
		var formatter = new google.visualization.NumberFormat(
		  {prefix: '$', negativeColor: 'red', negativeParens: true});
		  formatter.format(data,1);
		table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
	  }
	</script>
	<script type="text/javascript">
	  google.charts.load('current', {'packages':['table']});
	  google.charts.setOnLoadCallback(drawTable);
	
	  function drawTable() {
	
	
		var data = new google.visualization.DataTable();
		data.addColumn('string', 'Product Name');
		data.addColumn('number', 'Price');
		data.addColumn('number', 'Number of items sold');
		data.addColumn('number', 'Total Sales of the product');
	
		var res = $.ajax({
			   url: "FetchSales",
			   async: false,
			   dataType: "json"
		}).responseText;
	
		var resultJson1=JSON.parse(res);
	
		for(var i=0;i<resultJson1.length;i++){
			data.addRow([resultJson1[i]["name"],resultJson1[i]["price"],resultJson1[i]["quantity"],resultJson1[i]["discounAmt"]]);
		   }
		var table = new google.visualization.Table(document.getElementById('table_allSales'));
		var formatter = new google.visualization.NumberFormat(
		{prefix: '$', negativeColor: 'red', negativeParens: true});
		formatter.format(data,1);
		formatter.format(data,3);
		//var formatter = new google.visualization.PatternFormat('<a href="mailto:{1}">{0}</a>');
		table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
	  }
	</script>
	<script type="text/javascript">
	  google.charts.load('current', {'packages':['corechart']});
	  google.charts.setOnLoadCallback(drawSalesChart);
  
	function drawSalesChart() {
  
		var table = new google.visualization.DataTable();
		table.addColumn('string','Product Name');
		table.addColumn('number','Total Sales');
		var result = $.ajax({
			   url: "FetchSales",
			   async: false,
			   dataType: "json"
		}).responseText;
  
		var resultJson=JSON.parse(result);
  
		for(var i=0;i<resultJson.length;i++){
		   table.addRow([resultJson[i]["name"],resultJson[i]["quantity"]]);
		 }
  
		var options = {
			width: 900,
			height: 900,
			'is3D':true,
			title: "Product Sales",
			bar: {groupWidth: "22%"},
			legend: { position: "none" }
		};
  
		var an = new google.visualization.BarChart(document.getElementById('total_Sales_barchart'));
  
		an.draw(table,options);
	  }
	</script>
	<script type="text/javascript">
	  google.charts.load('current', {'packages':['table']});
	  google.charts.setOnLoadCallback(drawDailySalesTable);
	
	  function drawDailySalesTable() {
	
	
		var data = new google.visualization.DataTable();
		data.addColumn('string', 'Date');
		data.addColumn('number', 'Price');
	
		var res = $.ajax({
			   url: "FetchDailySales",
			   async: false,
			   dataType: "json"
		}).responseText;
	
		var resultJson1=JSON.parse(res);
	
		for(var i=0;i<resultJson1.length;i++){
			data.addRow([resultJson1[i]["name"],resultJson1[i]["price"]]);
		   }
		var table = new google.visualization.Table(document.getElementById('table_DailySales'));
		var formatter = new google.visualization.NumberFormat(
		{prefix: '$', negativeColor: 'red', negativeParens: true});
		formatter.format(data,1);
		table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
	  }
	</script>
  <script>
  <!-- jqurey script -->
  $(document).ready(function(){
  
	  $('#myCarousel').carousel({
	interval: 3000
  })
  
  $('.carousel .item').each(function(){
	var next = $(this).next();
	if (!next.length) {
	  next = $(this).siblings(':first');
	}
	next.children(':first-child').clone().appendTo($(this));
  });
  });
  </script>
  <style>
  * {
		  box-sizing : unset;
	  }
  
  .col-md-6{
		  width : 45% ! important;
	  }
  </style>
  
  
  
  </head>
  <body>
	  
  <div id="logo">
	  <!-- The name of the company goes here -->
	  <header>
		<h1 style="font-family: 'Roboto', sans-serif; "><a href="#" style="color: rgb(36, 18, 7);">Smart Home Appliances</a></h1>
		<h5><a style="color: rgb(78, 64, 48);text-align: center;margin-left: 5%;">One Stop for all Home Appliances</a></h5>
	</header>
</div>
	<nav class="navbar navbar-default" style="width: 100%;background-color: rgb(211, 158, 98);">
		<div class="container-fluid" id="menu" style="width: 100%;">
		<ul class="nav navbar-nav" style="align-items: center;margin-left: 10%;">
			<li class="start selected"><a href="HomeSM" style=" color: rgb(102, 23, 36)">Home</a></li>
			<li><a href="AddProductPage" style=" color: rgb(102, 23, 36)">Add Product</a></li>
			<li><a href="ProductUpdatePage" style=" color: rgb(102, 23, 36)">Update Product</a></li>
			<li><a href="ProductDeletePage" style=" color: rgb(102, 23, 36)">Delete Product</a></li>
			<li><a href="SMLogout" style=" color: rgb(102, 23, 36)">Sign Out</a></li>
		</ul>
			

	</div>
	<div id="post" style="margin-left:20px">

	
